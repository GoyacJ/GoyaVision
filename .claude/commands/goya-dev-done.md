# dev-done

完成开发后的检查清单。在功能/修复完成后，提交前执行。

## 完成步骤（按顺序）

### 步骤 1：更新开发进度

**文件**: `docs/development-progress.md`

- [ ] 将相关功能状态更新为 ✅ 已完成、🚧 进行中或 ⏸️ 待开始
- [ ] 更新"当前迭代"或"说明"列的描述
- [ ] 如有技术债务或阻塞问题，在文档中注明

**示例**:
```markdown
| 功能 | 状态 | 说明 |
|------|------|------|
| 媒体资产管理 | ✅ | 已完成 CRUD、搜索、派生追踪功能 |
| 算子管理 | 🚧 | 进行中 - CRUD 已完成，版本管理开发中 |
```

### 步骤 2：更新变更日志

**文件**: `CHANGELOG.md`

- [ ] 在 `[未发布]` 章节下添加条目
- [ ] 按类型分类：**新增**/变更/修复/弃用/移除/安全
- [ ] 描述清晰、面向用户

**示例**:
```markdown
## [未发布]

### 新增
- **媒体资产管理**: 实现 CRUD、标签系统、派生追踪功能
- **资产搜索**: 支持按类型、来源、标签过滤

### 修复
- 修复工作流 DAG 验证时的死循环问题 (#123)

### 变更
- 优化媒体资产列表加载性能（从 2s 降至 300ms）
```

### 步骤 3：按需更新相关文档

根据变更类型，判断是否需要更新：

| 变更类型 | 需更新的文档 | 更新内容 |
|----------|--------------|----------|
| **新增或修改 API** | `docs/api.md` | 端点文档、请求/响应示例、参数说明、错误码 |
| **架构变更** | `docs/architecture.md` | 新增层/组件、依赖图、设计决策 |
| **需求变更** | `docs/requirements.md` | 功能规格、验收标准、用例 |
| **用户影响** | `README.md` | 新功能说明、使用方式 |
| **部署/配置** | `docs/DEPLOYMENT.md` | 配置项、环境变量、安装步骤 |

### 步骤 4：提交前自检

- [ ] **代码已测试** - 单元测试、集成测试、手动测试已通过
- [ ] **文档已更新** - 开发进度、CHANGELOG、API/架构文档已同步
- [ ] **代码已格式化** - Go: `go fmt ./...` 和 `go vet ./...`，前端: `pnpm run format`
- [ ] **无调试代码** - 移除 `console.log`、`fmt.Println`、注释代码块、临时文件
- [ ] **提交信息符合规范** - 有正确的 type 和 scope，Subject 清晰简洁

## 准备提交

所有检查项完成后，使用 `/commit` 命令创建规范的 Git 提交。
